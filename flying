local plr = game.Players.LocalPlayer local char = plr.Character repeat wait()until plr and char and char:findFirstChild("Torso")and char:findFirstChild("Humanoid")local a=plr:GetMouse()repeat wait()until a;local b=false;local c=Instance.new("NumberValue")local d={f=0,b=0,l=0,r=0}local e={f=0,b=0,l=0,r=0}function setSpeed(f)c.Value=f end;function fly()local g=plr;local h=g.Character.Torso;local i=true;local j=0;local k=nil;local l=nil;b=true;k=Instance.new("BodyGyro",h)k.P=9e4;k.maxTorque=Vector3.new(9e9,9e9,9e9)l=Instance.new("BodyVelocity",h)l.velocity=Vector3.new(0,0.1,0)l.maxForce=Vector3.new(9e9,9e9,9e9)repeat wait()g.Character.Humanoid.PlatformStand=true;if d.l+d.r~=0 or d.f+d.b~=0 then j=c.Value*30 elseif not(d.l+d.r~=0 or d.f+d.b~=0)and j~=0 then j=0 end;if d.l+d.r~=0 or d.f+d.b~=0 then l.velocity=(game.Workspace.CurrentCamera.CoordinateFrame.lookVector*(d.f+d.b)+game.Workspace.CurrentCamera.CoordinateFrame*CFrame.new(d.l+d.r,(d.f+d.b)*.2,0).p-game.Workspace.CurrentCamera.CoordinateFrame.p)*j;e={f=d.f,b=d.b,l=d.l,r=d.r}elseif d.l+d.r==0 and d.f+d.b==0 and j~=0 then l.velocity=(game.Workspace.CurrentCamera.CoordinateFrame.lookVector*(e.f+e.b)+game.Workspace.CurrentCamera.CoordinateFrame*CFrame.new(e.l+e.r,(e.f+e.b)*.2,0).p-game.Workspace.CurrentCamera.CoordinateFrame.p)*j else l.velocity=Vector3.new(0,0.1,0)end;k.CFrame=game.Workspace.Camera.CFrame until not b;d={f=0,b=0,l=0,r=0}e={f=0,b=0,l=0,r=0}j=0;k:Destroy()k=nil;l:Destroy()l=nil;g.Character.Humanoid.PlatformStand=false;wait(0.5)end;a.KeyDown:connect(function(m)if m:lower()=="w"then d.f=1 elseif m:lower()=="s"then d.b=-1 elseif m:lower()=="a"then d.l=-1 elseif m:lower()=="d"then d.r=1 end end)a.KeyUp:connect(function(m)if m:lower()=="w"then d.f=0 elseif m:lower()=="s"then d.b=0 elseif m:lower()=="a"then d.l=0 elseif m:lower()=="d"then d.r=0 end end)function unfly()b=false end;return{fly=fly,unfly=unfly,setSpeed=setSpeed}
